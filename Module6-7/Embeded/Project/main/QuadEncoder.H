/*
*************************** C HEADER FILE ************************************

project   :
filename  : QuadEncoder.H
version   : 1
date      :

******************************************************************************

Copyright (c) 20xx ,
All rights reserved.

******************************************************************************

VERSION HISTORY:
----------------------------
Version      : 1
Date         : 1/11/2017
Revised by   :
Description  :

******************************************************************************
*/

#ifndef QuadEncoder_INCLUDED
#define QuadEncoder_INCLUDED

/****************************************************************************/
/**                                                                        **/
/**                              MODULES USED                              **/
/**                                                                        **/
/****************************************************************************/

#include "CONFIG_PIC24.H" 
#include "CDATPIC24.H"

/****************************************************************************/
/**                                                                        **/
/**                        DEFINITIONS AND MACROS                          **/
/**                                                                        **/
/****************************************************************************/

#define REPEAT_SAMPLING 3

/****************************************************************************/
/**                                                                        **/
/**                        TYPEDEFS AND STRUCTURES                         **/
/**                                                                        **/
/****************************************************************************/

typedef enum
{
	STOP,
	CCW,
	CW
} ROTATION;

typedef struct PIDparameter
{

	int32s u, e, delta_u, pu1, pe2, pe1;
	float K_P,K_I,K_D;

};

typedef struct EncoderParameter
{
	int16u Old_A, New_Actual_A, Old_B, New_Actual_B;
	int32u SamplingCounter_A, SamplingCounter_B;
	int16u New_A[REPEAT_SAMPLING];
	int16u New_B[REPEAT_SAMPLING];
	int32u PulseCounterOld, PulseCounterNew, 
			PulseCounterInterval;
	int32s PulseCounter;
};
/****************************************************************************/
/**                                                                        **/
/**                         EXPORTED VARIABLES                             **/
/**                                                                        **/
/****************************************************************************/

#ifndef QuadEncoder_C_SRC

#endif

/****************************************************************************/
/**                                                                        **/
/**                       EXPORTED FUNCTIONS                               **/
/**                                                                        **/
/****************************************************************************/



/****************************************************************************/
#endif

/****************************************************************************/
/**                                                                        **/
/**                              EOF                                       **/
/**                                                                        **/
/****************************************************************************/